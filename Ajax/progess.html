<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>为用户创建进度指示器</title>
</head>
<body>
	<div id="status"></div>
	<script type="text/javascript" src="../ajax.js"></script>
	<script type="text/javascript">
		var xhr = createXHR();//创建xhr对象
		xhr.onload = function (event) {//onload事件处理函数
		    if (xhr.status >= 200 && xhr.status <300 || xhr.status == 304) {
		        console.log(xhr.responseText);
		    } else {
		        console.log("Request was unsuccessful:" + xhr.status);
		    }
		};
		xhr.onprogress = function (event) {
			var divStatus = document.getElementById("status");
			if (event.lengthComputable) {
				divStatus.innerHTML = "Received " + event.position + "of " + event.totalSize + "bytes";  
			}
		};
		xhr.open("get","info.json",true);
		xhr.send(null);


	</script>
</body>
</html>